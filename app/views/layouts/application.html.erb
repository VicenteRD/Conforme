<!DOCTYPE html>
<html>

<%= render 'layouts/head' %>

<body class="theme-default menu-top menu-static" ng-app="test">

  <% if @user %>
    <%= render 'layouts/nav' %>
  <% end %>

  <nav class="top-menu" ng-class="{'hidden-top-menu': hideTopMenu}">
    <div class="menu-icon-container hidden-md-up">
      <div class="animate-menu-button left-menu-toggle">
        <div><!-- --></div>
      </div>
    </div>
    <div class="menu">
      <% if @user %>
        <div class="menu-user-block">
          <div class="dropdown dropdown-avatar">
            <a href="javascript: void(0);" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              <span><%= @user.first_last_name %></span>
            </a>
            <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="" role="menu">
              <a class="dropdown-item" href="javascript:void(0)"><i class="dropdown-icon icmn-user"></i> Perfil</a>
              <div class="dropdown-divider"></div>
              <div class="dropdown-header">Home</div>
              <a class="dropdown-item" href="javascript:void(0)"><i class="dropdown-icon icmn-circle-right"></i> Dashboard configuracion</a>
              <a class="dropdown-item" href="javascript:void(0)"><i class="dropdown-icon icmn-circle-right"></i> Editar Cuenta</a>
              <div class="dropdown-divider"></div>
              <%= link_to(logout_path, method: :delete, class: 'dropdown-item') do %>
                <i class="dropdown-icon icmn-exit"></i>
                Cerrar Sesi√≥n
              <% end %>
            </ul>
          </div>
        </div>
      <% end %>

      <div class="menu-info-block">

        <%= yield :menu %>


        <!--<div class="right hidden-md-down margin-left-20">-->
        <!--<div class="search-block">-->
        <!--<div class="form-input-icon form-input-icon-right">-->
        <!--<i class="icmn-search"></i>-->
        <!--<input type="text" class="form-control form-control-sm form-control-rounded" placeholder="Search...">-->
        <!--<button type="submit" class="search-block-submit "></button>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--<div class="right example-buy-btn">-->
        <!--<a href=#" target="_blank" class="btn btn-success-outline btn-rounded">-->
        <!-- @user.name %>  @user.l_name1 %>-->
        <!--</a>-->
        <!--</div>-->
      </div>
    </div>
  </nav>

<%= yield %>

<script>
    $(function() {

        ///////////////////////////////////////////////////////////
        // COUNTERS
        $('.counter-init').countTo({
            speed: 1500
        });

        ///////////////////////////////////////////////////////////
        // ADJUSTABLE TEXTAREA
        autosize($('#textarea'));

        ///////////////////////////////////////////////////////////
        // CUSTOM SCROLL
        if (!cleanUI.hasTouch) {
            $('.custom-scroll').each(function() {
                $(this).jScrollPane({
                    autoReinitialise: true,
                    autoReinitialiseDelay: 100
                });
                var api = $(this).data('jsp'),
                    throttleTimeout;
                $(window).bind('resize', function() {
                    if (!throttleTimeout) {
                        throttleTimeout = setTimeout(function() {
                            api.reinitialise();
                            throttleTimeout = null;
                        }, 50);
                    }
                });
            });
        }

        ///////////////////////////////////////////////////////////
        // CALENDAR
        $('.example-calendar-block').fullCalendar({
            //aspectRatio: 2,
            height: 450,
            header: {
                left: 'prev, next',
                center: 'title',
                right: 'month, agendaWeek, agendaDay'
            },
            buttonIcons: {
                prev: 'none fa fa-arrow-left',
                next: 'none fa fa-arrow-right',
                prevYear: 'none fa fa-arrow-left',
                nextYear: 'none fa fa-arrow-right'
            },
            editable: true,
            eventLimit: true, // allow "more" link when too many events
            viewRender: function(view, element) {
                if (!cleanUI.hasTouch) {
                    $('.fc-scroller').jScrollPane({
                        autoReinitialise: true,
                        autoReinitialiseDelay: 100
                    });
                }
            },
            defaultDate: '2016-05-12',
            events: [
                {
                    title: 'All Day Event',
                    start: '2016-05-01',
                    className: 'fc-event-success'
                },
                {
                    id: 999,
                    title: 'Repeating Event',
                    start: '2016-05-09T16:00:00',
                    className: 'fc-event-default'
                },
                {
                    id: 999,
                    title: 'Repeating Event',
                    start: '2016-05-16T16:00:00',
                    className: 'fc-event-success'
                },
                {
                    title: 'Conference',
                    start: '2016-05-11',
                    end: '2016-05-14',
                    className: 'fc-event-danger'
                }
            ],
            eventClick: function(calEvent, jsEvent, view) {
                if (!$(this).hasClass('event-clicked')) {
                    $('.fc-event').removeClass('event-clicked');
                    $(this).addClass('event-clicked');
                }
            }
        });

        ///////////////////////////////////////////////////////////
        // CAROUSEL WIDGET
        $('.carousel-widget').carousel({
            interval: 4000
        });

        $('.carousel-widget-2').carousel({
            interval: 6000
        });
        // CHART 1
        new Chartist.Line(".chart-line", {
            labels: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
            series: [
                [12, 9, 7, 8, 5],
                [2, 1, 3.5, 7, 3],
                [1, 3, 4, 5, 6]
            ]
        }, {
            fullWidth: !0,
            chartPadding: {
                right: 40
            },
            plugins: [
                Chartist.plugins.tooltip()
            ]
        });

        ///////////////////////////////////////////////////////////
        // CHART 2
        var overlappingData = {
                labels: ["Jan", "Feb", "Mar", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                series: [
                    [5, 4, 3, 7, 5, 10, 3, 4, 8, 10, 6, 8],
                    [3, 2, 9, 5, 4, 6, 4, 6, 7, 8, 7, 4]
                ]
            },
            overlappingOptions = {
                seriesBarDistance: 10,
                plugins: [
                    Chartist.plugins.tooltip()
                ]
            },
            overlappingResponsiveOptions = [
                ["", {
                    seriesBarDistance: 5,
                    axisX: {
                        labelInterpolationFnc: function(value) {
                            return value[0]
                        }
                    }
                }]
            ];

        new Chartist.Bar(".chart-overlapping-bar", overlappingData, overlappingOptions, overlappingResponsiveOptions);


    });
</script>
<!-- End Page Scripts -->

<div class="main-backdrop"><!-- --></div>

<script src="/assets/vendors/chartist/dist/chartist.min.js"></script>
  <script src="/assets/vendors/chartist-plugin-tooltip/dist/chartist-plugin-tooltip.min.js"></script>


</body>

<div id="table-modal" class="modal fade modal-size-large" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content" id="table-modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title" id="table-modal-title">?</h4>
      </div>
      <div class="modal-body" id="table-modal-body">
      </div>
    </div>
  </div>
</div>

<div id="new-modal" class="modal fade modal-size-small" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content" id="table-modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title" id="new-modal-title">?</h4>
      </div>
      <div class="modal-body" id="new-modal-body">
      </div>
    </div>
  </div>
</div>

<script>
  $('#table-modal').on('hidden.bs.modal', function (e) {
      var footer = $('#table-modal-content').find('.modal-footer');
      if (footer != null) {
          footer.remove()
      }
  })
</script>


</html>
